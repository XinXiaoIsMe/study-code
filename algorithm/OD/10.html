<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!-- 
    所谓的水仙花数是指一个n位的正整数其各位数字的n次方的和等于该数本身，
    例如153=1^3+5^3+3^3,153是一个三位数
    输入描述
        第一行输入一个整数N，
        表示N位的正整数N在3-7之间包含3,7
        第二行输入一个正整数M，
        表示需要返回第M个水仙花数
    输出描述
        返回长度是N的第M个水仙花数，
        个数从0开始编号，
        若M大于水仙花数的个数返回最后一个水仙花数和M的乘积，
        若输入不合法返回-1

    示例一：

        输入
         3
         0
        输出
         153
        说明：153是第一个水仙花数
     示例二：
        输入
        9
        1
        输出
        -1
   -->

   <script>
    function answer (n, m) {
      if (n < 3 || n > 7) {
        console.log(-1)
        return
      }

      const start = Math.pow(10, n - 1)
      const end = Math.pow(10, n)
      let current
      let count = -1

      for (let i = start; i < end; i ++) {
        if (validate(i)) {
          count ++
          current = i
        }
        if (count === m) {
          console.log(i)
          return
        }
      }

      if (current) {
        console.log(current * m)
        return
      } else {
        console.log(-1)
      }

      function validate (num) {
        let sum = 0
        const str = String(num)
        const len = str.length

        for (let i = 0; i < len; i ++) {
          sum += Math.pow(Number(str[i]), len)
        }

        return sum === num
      }
    }

    // test 3位的水仙花数有4个，分别是：153、370、371、407
    answer(3, 0) // 153
    answer(3, 1) // 370
    answer(3, 2) // 371
    answer(3, 3) // 407
    answer(3, 4) // 407 * 4
    answer(3, 5) // 407 * 5
    answer(3, 6) // 407 * 6
    answer(9, 1) // -1
   </script>
</body>
</html>